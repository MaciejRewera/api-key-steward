
http {
  host = "0.0.0.0"
  port = 8080
}

database {
  driver = org.postgresql.Driver
  host = "localhost"
  //  host = ${DATABASE_HOST}
  port = 5432
  username = "postgres"
  //  username = ${DATABASE_USERNAME}
  password = "example"
  //  password = ${DATABASE_PASSWORD}
  name = "api-key-steward"
  uri = "jdbc:postgresql://"${database.host}":"${database.port}"/"${database.name}

  migrations-table = "schema_version"
  migrations-locations = ["db/migrations"]
}

license {
  license-key = "ALWAYS-VALID-LICENSE-KEY"
}

auth {
  allowed-issuers = [${AUTH_JWT_ALLOWED_ISSUER}]
  audience = ${AUTH_JWT_AUDIENCE}

  jwks {
    urls = [${AUTH_JWKS_URL}]
    fetch-retry-attempt-initial-delay = 100 millis
    fetch-retry-attempt-max-amount = 5

    cache-refresh-period = 10 minutes

    supported-algorithm = "RS256"
    supported-key-type = "RSA"
    supported-key-use = "sig"
  }
}

api-key {
  random-section-length = 30
  prefix = "steward_"
  storage-hashing-algorithm = "SHA3-256"
}
